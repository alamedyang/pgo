<nav class="row navbar-default">
  <input type="checkbox" id="navbar-toggle-cbox" hidden>
  <div class="col-xs-12">
    <label for="navbar-toggle-cbox" class="navbar-toggle collapsed pull-left" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </label>
    <div class="changelog-toggle-wrapper">
      <h5>
        Changelog
        <span class="glyphicon glyphicon-chevron-down changelog-chevron" aria-hidden="true"></span>
      </h5>
    </div>
  </div>
  <div id="navbar" class="col-xs-12 navbar-collapse collapse">
    <ul class="nav navbar-nav">
      {% for menu_item in navigation.navigationitem_set.all %}
        {% if menu_item.active %}
        <li class="{% if menu_item.slug in current_url %}active{% endif %}{% if menu_item.slug == 'breakpoint-calc' and current_url == '' %}active{% endif %}">
          <a href="/{{ menu_item.slug }}/">{{ menu_item }}
          </a>
        </li>
        {% endif %}
      {% endfor %}
    </ul>
  </div>
</nav>
<div class="changelog-info-wrapper" hidden>
  <h5>Changelog</h5>
  7/2019
  <ul>
    <li>added temporary friendship bonuses</li>
    <li>updated content (Armored Mewtwo, new moves for some pokemon</li>
  </ul>
  3/2019
  <ul>
    <li>added changelog</li>
  </ul>
  2/2019
  <ul>
    <li>made pokemon and move pages mobile friendly, added filtering</li>
    <li>added indicators for legacy moves and excluded them from raid boss' movesets</li>
    <li>completely reworked top counters to be more accurate and flexible, added rank/DPS toggle</li>
    <li>slightly improved performance and load times</li>
  </ul>
  1/2019
  <ul>
    <li>brought pokemon and move pages back</li>
    <li>updated moves with PvP data</li>
    <li>implemented hidden power properly</li>
  </ul>
</div>

<style type="text/css">
  #navbar-toggle-cbox:checked ~ .collapse {
    display: block;
  }
  #navbar-toggle-cbox {
    display: none;
  }
  #navbar {
    padding-bottom: 2rem;
  }
  .navbar-default {
    background: none;
    padding-bottom: 1rem;
  }
  .changelog-toggle-wrapper {
    position: absolute;
    top: 0;
    right: 0;
    margin: .7rem 1.4rem 0 0;
    color: #337ab7;
    cursor: pointer;
  }
  .changelog-info-wrapper {
    margin: 0 0 30px 0;
  }
</style>

<script type="text/javascript">
  const changelogToggleWrapper = document.querySelector('.changelog-toggle-wrapper');
  const changelogInfoWrapper = document.querySelector('.changelog-info-wrapper');
  const changelogChevron = document.querySelector('.changelog-chevron');

  changelogToggleWrapper.addEventListener('click', function() {
    changelogInfoWrapper.hidden = !changelogInfoWrapper.hidden;

    if (changelogChevron.classList.contains('glyphicon-chevron-down')) {
      changelogChevron.classList.remove('glyphicon-chevron-down');
      changelogChevron.classList.add('glyphicon-chevron-up');
    } else {
      changelogChevron.classList.remove('glyphicon-chevron-up');
      changelogChevron.classList.add('glyphicon-chevron-down');
    }
  })
</script>
