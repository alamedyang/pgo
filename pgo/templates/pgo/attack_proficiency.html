{% extends 'pgo/pgo_base.html' %}


{% block title %}
    {{ block.super }} - Attack Proficiency Calculator
{% endblock title %}

{% block content %}
<div class="attack-pro-wrapper row">
    <div class="attack-pro-form-wrapper col-md-4">
        <form id="attack-pro-form">
            <select id="attacker" class="attack-pro-select" autofocus tabindex="1">
                <option value="-1" disabled selected>Select attacker</option>
                {% for data in pokemon_data %}
                    <option value="{{ data.0 }}">{{ data.1 }} ({{ data.2 }} ATK)</option>
                {% endfor %}
            </select>
            <br>

            <select id="quick_move" class="attack-pro-select-move" tabindex="2" disabled>
                <option value="-1" disabled selected>Quick move</option>
            </select>
            <br>

            <select id="cinematic_move" class="attack-pro-select-move" tabindex="3" disabled>
                <option value="-1" disabled selected>Cinematic move</option>
            </select>

            <div class="row attack-pro-input-wrapper">
                <div class="col-xs-6">
                    <input type="number" id="attacker_lvl" class="attack-pro-input level-input form-control" name="attacker_lvl" placeholder="Attacker level" min="1" max="40" step="0.5" tabindex="4">
                </div>
                <div class="col-xs-4">
                    <select id="attack_iv" class="attack-pro-select-atk-iv form-control" tabindex="5">
                        {% for n in attack_iv_range %}
                            <option value="{{ n }}">{{ n }} ATK</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="col-xs-2">
                    <a href="#" id="help_button" class="btn btn-info help-button">?</a>
                </div>
            </div>

            <div class="row">
                <div class="help-text col-xs-12">
                    Don't know the level and ATK IV? You can find out at <a href="https://pokemongo.gamepress.gg/pokemongo-iv-calculator#/" target="_blank">GamePress</a>.
                </div>
            </div>

            <div class="row">
                <div class="col-xs-12 raid-boss-check-wrapper">
                    <select id="weather_condition" class="attack-pro-select-weather" tabindex="6">
                        <option value="0" selected>Weather (None)</option>
                        {% for weather_id, weather_name in weather_conditions %}
                            <option value="{{ weather_id }}">{{ weather_name }}</option>
                        {% endfor %}
                    </select>

                    <input type="checkbox" id="raid_boss_check" name="raid_boss_check" hidden checked>
                    <input type="button" id="raid_toggle_button" name="raid_toggle_button" class="btn-sm btn-success raid-toggle-button" value="Raid" tabindex="7">

                    <select id="raid_tier" class="attack-pro-select-raid-tier" tabindex="8">
                        <option value="5">T5</option>
                        <option value="4">T4</option>
                        <option value="3">T3</option>
                        <option value="2">T2</option>
                        <option value="1">T1</option>
                    </select>
                </div>
            </div>

            <select id="defender" class="attack-pro-select" tabindex="9">
                <option value="-1" disabled selected>Select defender</option>
                {% for data in pokemon_data %}
                    <option value="{{ data.0 }}">{{ data.1 }} ({{ data.3 }} DEF)</option>
                {% endfor %}
            </select>

            <div class="row attack-pro-input-wrapper hidden">
                <div class="col-xs-8">
                    <input type="number" id="defender_lvl" class="attack-pro-input level-input form-control" name="defender_lvl" placeholder="Defender level" min="1" max="40" step="0.5" value="40">
                </div>
                <div class="col-xs-4">
                    <input type="number" id="defense_iv" class="attack-pro-input iv-input form-control" name="defense_iv" placeholder="DEF IV" min="0" max="15" step="1" value="15">
                </div>
            </div>
            <br>

            <input type="submit" id="submit" name="submit" value="Submit" class="attack-pro-button btn btn-primary" tabindex="10">
            <input type="hidden" id="csrf_token" value="{{ csrf_token }}">
        </form>
    </div>
    <div class="attack-proficiency-info col-md-8">
        <div class="attack-proficiency-intro">
            <p>
                The attack proficiency calculator was built to help find damage "breakpoints".
            </p>
            <p>
                To begin, select your attacker and its attacks, enter its level and ATK IV and choose what you'll be attacking, then hit submit.
            </p>
        </div>
        <div class="attack-proficiency-current">
            <p>
                <span id="attack_iv_assessment"></span>
            </p>
            <p hidden>
                <span id="attacker_quick_move"></span> would do
                <span id="quick_attack_damage"></span>, and
                <span id="attacker_cinematic_move"></span>
                <span id="cinematic_attack_damage"></span>, damage per hit to the target.
            </p>
        </div>
    </div>
</div>

<div class="attack-proficiency-stats-wrapper row">
    <div class="col-sm-12">
        <p class="attack-proficiency-summary"></p>
        <table id="attack-proficiency-stats" class="table table-striped">
            <tbody></tbody>
        </table>
    </div>
</div>

<div class="shoutbox row">
    <div class="col-md-12 changelog">
        <hr>
        Recent changes:
        <ul>
            <li>1/14/2018 added weather boosts</li>
            <li>1/14/2018 redesigned the UI slightly</li>
            <li>1/12/2018 updated for gen III</li>
            <li>1/12/2018 moved to a smaller server</li>
        </ul>
        Something doesn't seem right? You can let me know at <a href="https://www.reddit.com/user/zenofewords">reddit</a>.
    </div>
</div>
{% endblock content %}

{% block scripts %}
    {{ block.super }}
{% endblock scripts %}
